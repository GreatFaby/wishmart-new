(window.webpackJsonpwishmart=window.webpackJsonpwishmart||[]).push([[0],{165:function(e,t,n){e.exports=n(321)},174:function(e,t,n){},194:function(e,t){},196:function(e,t){},22:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return u}));var a="SET_CURRENT_USER",r="ADD_TO_CART",c="REMOVE_ITEM",o="SUB_QUANTITY",u="ADD_QUANTITY"},234:function(e,t){},235:function(e,t){},321:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),o=n.n(c),u=n(33),l=n(27),i=n(153),s=n(31),d=(n(174),n(32)),m=n(11),f=(n(89),n(90),n(91),n(59)),p=n(2);var b=Object(l.b)((function(e){return{auth:e.auth}}),{logout:f.b})((function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),c=n[0],o=n[1],u=e.auth.isAuthenticated,l=r.a.createElement(p.A,{right:!0},r.a.createElement(p.w,{active:!0},r.a.createElement(p.x,{to:"/"},"Home")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/Products"},"Products")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/logout",onClick:function(t){t.preventDefault(),e.logout()}},"Logout")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/cart"},"Cart")),r.a.createElement(p.w,null,r.a.createElement(p.n,null,r.a.createElement(p.q,{nav:!0,caret:!0},r.a.createElement("span",{className:"mr-2"},"Profile")),r.a.createElement(p.p,null,r.a.createElement(p.o,{href:"#!"},"Orders"),r.a.createElement(p.o,{href:"#!"},"Account"))))),i=r.a.createElement(p.A,{right:!0},r.a.createElement(p.w,{active:!0},r.a.createElement(p.x,{to:"/"},"Home")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/Products"},"Products")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/login"},"Login")),r.a.createElement(p.w,null,r.a.createElement(p.x,{to:"/register"},"Sign Up")));return r.a.createElement(p.y,{color:"indigo",dark:!0,expand:"md"},r.a.createElement(p.z,null,r.a.createElement(p.x,{to:"/"},r.a.createElement("strong",{className:"white-text"},"Wishmart"))),r.a.createElement(p.B,{onClick:function(){o(!c)}}),r.a.createElement(p.l,{id:"navbarCollapse3",isOpen:c,navbar:!0},r.a.createElement(p.A,{right:!0},u?l:i)))})),g=n(87),h=n(88);function E(){var e=Object(g.a)(["\n  position: relative;\n  width: 100%;\n  background-color: #3f51b5;\n"]);return E=function(){return e},e}var v=Object(h.a)(p.r)(E()),O=function(){return r.a.createElement(v,{className:"font-small pt-4 mt-4"},r.a.createElement("div",{className:"footer-copyright text-center py-3"},r.a.createElement(p.m,{fluid:!0},"\xa9 ",(new Date).getFullYear()," Copyright:"," ",r.a.createElement("p",{className:"text-monospace"}," ","Wishmart Designed by Oluwafemi Egbodofo with Stutord"))))},w={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},y=function(){return r.a.createElement("div",{style:w},r.a.createElement("div",{className:"spinner-border text-danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},j=n(30),x=n.n(j),S=n(40),N=n(34),k=function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),l=Object(m.a)(u,2),i=l[0],s=l[1],d=Object(a.useState)(""),f=Object(m.a)(d,2),b=f[0],g=f[1],h=Object(a.useState)(""),E=Object(m.a)(h,2),v=E[0],O=E[1],w=Object(a.useState)(""),y=Object(m.a)(w,2),j=y[0],k=y[1];Object(a.useEffect)((function(){(function(){var t=Object(S.a)(x.a.mark((function t(){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("products/"+e.match.params.id);case 3:n=t.sent,o(n.data.name),s(n.data.brand),g(n.data.price),O(n.data.image),k(n.data.description),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[e]);var A=function(){var t=Object(S.a)(x.a.mark((function t(n){var a,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={name:c,brand:i,price:b,image:v,description:j},r=localStorage.getItem("jwtToken"),t.next=5,N.a.patch("/products/"+e.match.params.id,a,{headers:{Authorization:"Bearer ".concat(r)}});case 5:e.history.push("/products/"+e.match.params.id+"/show");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(p.m,{className:"px-5"},r.a.createElement(p.C,{className:"d-flex justify-content-center"},r.a.createElement(p.k,{className:"card mt-5",xl:"6"},r.a.createElement("form",{onSubmit:A},r.a.createElement("p",{className:"h5 text-center mt-4 mb-4"},"Edit Product"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(p.t,{label:"Name",value:c,icon:"user",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return o(e.target.value)}}),r.a.createElement(p.t,{label:"Brand",value:i,icon:"clone",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return s(e.target.value)}}),r.a.createElement(p.t,{label:"Price",value:b,icon:"coins",group:!0,type:"number",validate:!0,error:"wrong",success:"right",onChange:function(e){return g(e.target.value)}}),r.a.createElement(p.t,{label:"image",value:v,icon:"image",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return O(e.target.value)}}),r.a.createElement(p.t,{label:"description",value:j,icon:"info",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{className:"mb-3",color:"cyan",type:"submit"},"Submit"))))))};var A=Object(l.b)(null,{newProduct:function(e){return function(t){var n=localStorage.getItem("jwtToken");return N.a.post("/products",e,{headers:{Authorization:"Bearer ".concat(n)}})}}})((function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),l=Object(m.a)(u,2),i=l[0],s=l[1],f=Object(a.useState)(""),b=Object(m.a)(f,2),g=b[0],h=b[1],E=Object(a.useState)(""),v=Object(m.a)(E,2),O=v[0],w=v[1],y=Object(a.useState)(""),j=Object(m.a)(y,2),N=j[0],k=j[1],A=Object(a.useState)(!1),C=Object(m.a)(A,2),I=C[0],P=C[1],T=function(){var t=Object(S.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a={name:c,brand:i,price:g,image:O,description:N},t.prev=2,t.next=5,e.newProduct(a);case 5:P(!0),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}();return I?r.a.createElement(d.a,{to:"/products"}):r.a.createElement(p.m,{className:"px-5"},r.a.createElement(p.C,{className:"d-flex justify-content-center"},r.a.createElement(p.k,{className:"card mt-3",sm:"12",md:"8",lg:"6"},r.a.createElement("form",{onSubmit:T},r.a.createElement("p",{className:"h5 text-center mt-4 mb-4"},"Add New Product"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(p.t,{label:"Name",icon:"user",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return o(e.target.value)}}),r.a.createElement(p.t,{label:"Brand",icon:"clone",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return s(e.target.value)}}),r.a.createElement(p.t,{label:"Price",icon:"coins",group:!0,type:"number",validate:!0,error:"wrong",success:"right",onChange:function(e){return h(e.target.value)}}),r.a.createElement(p.t,{label:"image",icon:"image",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return w(e.target.value)}}),r.a.createElement(p.t,{label:"description",icon:"info",group:!0,type:"text",validate:!0,error:"wrong",success:"right",onChange:function(e){return k(e.target.value)}})),r.a.createElement("div",{className:"text-center"},r.a.createElement(p.a,{className:"mb-3",color:"cyan",type:"submit"},"Submit"))))))})),C=function(e){return Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(t){return Object(a.useLayoutEffect)((function(){t.isAuthenticated||t.history.push("/login")}),[t]),r.a.createElement(e,t)}))},I=r.a.lazy((function(){return n.e(3).then(n.bind(null,332))})),P=r.a.lazy((function(){return n.e(7).then(n.bind(null,330))})),T=r.a.lazy((function(){return n.e(9).then(n.bind(null,326))})),_=r.a.lazy((function(){return n.e(5).then(n.bind(null,333))})),D=r.a.lazy((function(){return n.e(4).then(n.bind(null,327))})),z=r.a.lazy((function(){return n.e(6).then(n.bind(null,331))})),B=r.a.lazy((function(){return n.e(8).then(n.bind(null,328))})),U=r.a.lazy((function(){return n.e(10).then(n.bind(null,329))}));var q=function(){var e=r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0,render:function(e){return r.a.createElement(I,e)}}),r.a.createElement(d.b,{path:"/register",exact:!0,render:function(e){return r.a.createElement(P,e)}}),r.a.createElement(d.b,{path:"/login",exact:!0,render:function(e){return r.a.createElement(T,e)}}),r.a.createElement(d.b,{path:"/products",exact:!0,render:function(e){return r.a.createElement(_,e)}}),r.a.createElement(d.b,{path:"/cart",exact:!0,render:function(e){return r.a.createElement(D,e)}}),r.a.createElement(d.b,{path:"/checkout",exact:!0,render:function(e){return r.a.createElement(B,e)}}),r.a.createElement(d.b,{path:"/pay",exact:!0,render:function(e){return r.a.createElement(U,e)}}),r.a.createElement(d.b,{path:"/products/:id/edit",component:C(k)}),r.a.createElement(d.b,{path:"/products/add",component:C(A)}),r.a.createElement(d.b,{path:"/products/:id/show",exact:!0,render:function(e){return r.a.createElement(z,e)}}));return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement(a.Suspense,{fallback:r.a.createElement(y,null)},e),r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=n(48),L=n(159),W=n.n(L),M=n(22),Y=n(160),H=n.n(Y),J={isAuthenticated:!1,user:{}},Q=n(162),V=n(161);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){Object(V.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={addedItems:[],total:0},G=function(e,t){if(e.addedItems.find((function(e){return t.data._id===e._id})))return t.data.quantity+=1,F({},e,{total:e.total+t.data.price});t.data.quantity=1;var n=e.total+t.data.price;return F({},e,{addedItems:[].concat(Object(Q.a)(e.addedItems),[t.data]),total:n})},K=function(e,t){var n=e.addedItems.find((function(e){return t.id===e._id})),a=e.addedItems.filter((function(e){return t.id!==e._id})),r=e.total-n.price*n.quantity;return console.log(n),F({},e,{addedItems:a,total:r})},Z=function(e,t){var n=e.addedItems.find((function(e){return e._id===t.id}));return n.quantity+=1,F({},e,{total:e.total+n.price})},ee=function(e,t){var n=e.addedItems.find((function(e){return e._id===t.id}));if(1===n.quantity){var a=e.addedItems.filter((function(e){return e.id!==t.id}));return F({},e,{addedItems:a,total:e.total-n.price})}return n.quantity-=1,F({},e,{total:e.total-n.price})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.b:return G(e,t);case M.c:return K(e,t);case M.a:return Z(e,t);case M.e:return ee(e,t);default:return e}},ne=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case M.d:return{isAuthenticated:!H()(t.user),user:t.user};default:return e}},cart:te}),ae=window._REDUX_DEVTOOLS_EXTENSION_COMPOSE_||s.d,re=Object(s.e)(ne,ae(Object(s.a)(i.a)));localStorage.jwtToken&&(Object(R.a)(localStorage.jwtToken),re.dispatch(Object(f.c)(W()(localStorage.jwtToken))));var ce=r.a.createElement(l.a,{store:re},r.a.createElement(u.a,null,r.a.createElement(q,null)));o.a.render(ce,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e,t,n){"use strict";var a=n(50),r=n.n(a).a.create({baseURL:"https://ecommerce-node-api.herokuapp.com/"});t.a=r},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(50),r=n.n(a);function c(e){e?r.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete r.a.defaults.headers.common.Authorization}},59:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(34),r=n(48),c=n(101),o=n.n(c),u=n(22);function l(e){return{type:u.d,user:e}}function i(){return function(e){localStorage.removeItem("jwtToken"),Object(r.a)(!1),e(l({}))}}function s(e){return function(t){return a.a.post("/users/login",e).then((function(e){var n=e.data.token;localStorage.setItem("jwtToken",n),Object(r.a)(n),t(l(o.a.decode(n)))}))}}}},[[165,1,2]]]);
//# sourceMappingURL=main.6394e485.chunk.js.map